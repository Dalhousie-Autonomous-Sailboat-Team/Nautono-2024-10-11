\hypertarget{_sail___w_e_a_t_h_e_r_s_t_a_t_i_o_n_8h_source}{}\doxysection{Sail\+\_\+\+WEATHERSTATION.\+h}
\label{_sail___w_e_a_t_h_e_r_s_t_a_t_i_o_n_8h_source}\index{src/Sail\_WEATHERSTATION.h@{src/Sail\_WEATHERSTATION.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * Sail\_WEATHERSTATION.h}}
\DoxyCodeLine{3 \textcolor{comment}{ *}}
\DoxyCodeLine{4 \textcolor{comment}{ * Created: 2019-\/04-\/11 5:29:07 PM}}
\DoxyCodeLine{5 \textcolor{comment}{ *  Author: Antho, Serge}}
\DoxyCodeLine{6 \textcolor{comment}{ */} }
\DoxyCodeLine{7 }
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#ifndef SAIL\_WEATHERSTATION\_H\_}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#define SAIL\_WEATHERSTATION\_H\_}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define WEATHERSENSOR\_MSG\_MAX\_ARGS 9 }}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#define NUM\_MSGS 4}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#define MSG\_TYPE\_TOTAL 6 }\textcolor{comment}{//sum of all expected msg type ids, eg. 0 + 1 + 2 + 3 = 6.. MAX value = 153 (all types enabled)}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#define WS\_LOOP\_LIM 5000 }\textcolor{comment}{//max number of loops allowed before weather station task is put to sleep}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#define WS\_SLEEP\_PERIOD\_MS 1000  }\textcolor{comment}{//length of time in sec that puts weather sensor to sleep}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#define WS\_BUFFER\_LENGTH 30}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include <stdint.h>}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <stdbool.h>}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}sail\_nmea.h"{}}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_w_e_a_t_h_e_r_s_e_n_s_o_r___msg_raw_data}{WEATHERSENSOR\_MsgRawData}} \{}
\DoxyCodeLine{25     uint8\_t type;}
\DoxyCodeLine{26     \textcolor{keywordtype}{float} args[WEATHERSENSOR\_MSG\_MAX\_ARGS];}
\DoxyCodeLine{27 \} \mbox{\hyperlink{struct_w_e_a_t_h_e_r_s_e_n_s_o_r___msg_raw_data}{WEATHERSENSOR\_MsgRawData}};}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{struct_n_m_e_a___all_msgs}{NMEA\_AllMsgs}} \{}
\DoxyCodeLine{30     \mbox{\hyperlink{struct_n_m_e_a___generic_msg}{NMEA\_GenericMsg}} msg\_array[NUM\_MSGS];}
\DoxyCodeLine{31     \textcolor{comment}{/*used to check if all messages have been assigned by }}
\DoxyCodeLine{32 \textcolor{comment}{    comparing its value to the sum of all message types*/}}
\DoxyCodeLine{33     uint8\_t msg\_type\_sum; }
\DoxyCodeLine{34 \} \mbox{\hyperlink{struct_n_m_e_a___all_msgs}{NMEA\_AllMsgs}};}
\DoxyCodeLine{35 }
\DoxyCodeLine{36 \textcolor{keywordtype}{void} enable\_ws\_msg(eNMEA\_TRX\_t msg\_type);}
\DoxyCodeLine{37 \textcolor{keywordtype}{void} write\_to\_ws(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *format, ...);}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{keywordtype}{void} ReadWeatherSensor(\textcolor{keywordtype}{void});}
\DoxyCodeLine{40 \textcolor{keywordtype}{void} WeatherStation\_On(\textcolor{keywordtype}{void});}
\DoxyCodeLine{41 \textcolor{keywordtype}{void} WeatherStation\_Sleep\_Sec(\textcolor{keywordtype}{unsigned} time\_sec);}
\DoxyCodeLine{42 }
\DoxyCodeLine{43 \textcolor{keyword}{enum} \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\_code}} WeatherStation\_Init(\textcolor{keywordtype}{void});}
\DoxyCodeLine{44 \textcolor{keyword}{enum} \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\_code}} WeatherStation\_Enable(\textcolor{keywordtype}{void});}
\DoxyCodeLine{45 \textcolor{keyword}{enum} \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\_code}} WeatherStation\_Disable(\textcolor{keywordtype}{void});}
\DoxyCodeLine{46 \textcolor{keyword}{enum} \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\_code}} WEATHERSTATION\_RxMsg(\mbox{\hyperlink{struct_n_m_e_a___generic_msg}{NMEA\_GenericMsg}} *msg);}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \textcolor{keyword}{static} \textcolor{keyword}{enum} \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\_code}} WEATHERSENSOR\_ExtractMsg(\mbox{\hyperlink{struct_n_m_e_a___generic_msg}{NMEA\_GenericMsg}} *msg, \mbox{\hyperlink{struct_w_e_a_t_h_e_r_s_e_n_s_o_r___msg_raw_data}{WEATHERSENSOR\_MsgRawData}} *data);}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{comment}{//void ReadWeatherSensor(void);}}
\DoxyCodeLine{51 \textcolor{keyword}{enum} \mbox{\hyperlink{group__group__sam0__utils__status__codes_ga751c892e5a46b8e7d282085a5a5bf151}{status\_code}} weatherstation\_cmd(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *format, ...);}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* SAIL\_WEATHERSTATION\_H\_ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
